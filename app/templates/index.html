{% extends "base.html" %}

{% block content %}
<div class="row">
    <!-- Left Sidebar Navigation -->
    <div class="col-md-3 mb-4">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="fas fa-tasks me-2"></i>Workflow</h5>
            </div>
            <div class="list-group list-group-flush">
                <a href="#organization-section" class="list-group-item list-group-item-action">
                    <i class="fas fa-building"></i> Organization
                </a>
                <a href="#certification-section" class="list-group-item list-group-item-action disabled">
                    <i class="fas fa-certificate"></i> Certifications
                </a>
                <a href="#document-section" class="list-group-item list-group-item-action disabled">
                    <i class="fas fa-file-upload"></i> Documents
                </a>
                <a href="#chat-section" class="list-group-item list-group-item-action disabled">
                    <i class="fas fa-comments"></i> Chat Assistant
                </a>
                <a href="#evaluation-section" class="list-group-item list-group-item-action disabled">
                    <i class="fas fa-tasks"></i> Evaluation
                </a>
                <a href="#results-section" class="list-group-item list-group-item-action disabled">
                    <i class="fas fa-chart-bar"></i> Results
                </a>
            </div>
        </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="col-md-9">
        <!-- Organization Section -->
        <section id="organization-section" class="mb-5">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-building me-2"></i>Organization Details</h5>
                </div>
                <div class="card-body">
                    <form id="organization-form">
                        <div class="mb-3">
                            <label for="org-name" class="form-label">Organization Name</label>
                            <input type="text" class="form-control" id="org-name" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="org-industry" class="form-label">Industry</label>
                                <select class="form-select" id="org-industry" required>
                                    <option value="" selected disabled>Select Industry</option>
                                    <option value="healthcare">Healthcare</option>
                                    <option value="finance">Finance & Banking</option>
                                    <option value="technology">Technology</option>
                                    <option value="retail">Retail</option>
                                    <option value="manufacturing">Manufacturing</option>
                                    <option value="education">Education</option>
                                    <option value="government">Government</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="org-size" class="form-label">Organization Size</label>
                                <select class="form-select" id="org-size" required>
                                    <option value="" selected disabled>Select Size</option>
                                    <option value="small">Small (1-50 employees)</option>
                                    <option value="medium">Medium (51-500 employees)</option>
                                    <option value="large">Large (501-5000 employees)</option>
                                    <option value="enterprise">Enterprise (5000+ employees)</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save me-2"></i>Save Organization Info
                        </button>
                    </form>
                </div>
            </div>
        </section>
        
        <!-- Certification Section -->
        <section id="certification-section" class="mb-5 disabled">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-certificate me-2"></i>Certification Selection</h5>
                </div>
                <div class="card-body">
                    <p class="mb-3">Select the certifications you're interested in pursuing:</p>
                    <select class="form-select" id="certification-select" multiple size="6">
                        <option value="iso27001">ISO 27001 - Information Security Management</option>
                        <option value="soc2">SOC 2 - Service Organization Control</option>
                        <option value="hipaa">HIPAA - Health Insurance Portability and Accountability Act</option>
                        <option value="gdpr">GDPR - General Data Protection Regulation</option>
                        <option value="pci-dss">PCI DSS - Payment Card Industry Data Security Standard</option>
                        <option value="ccpa">CCPA - California Consumer Privacy Act</option>
                    </select>
                    <div class="form-text mb-3">Hold Ctrl (Windows) or Command (Mac) to select multiple certifications.</div>
                    <button type="button" class="btn btn-primary" id="save-certifications">
                        <i class="fas fa-save me-2"></i>Save Selection
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Document Upload Section -->
        <section id="document-section" class="mb-5 disabled">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-file-upload me-2"></i>Document Upload</h5>
                </div>
                <div class="card-body">
                    <form id="document-upload-form">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="document-file" class="form-label">Select Document</label>
                                <input class="form-control" type="file" id="document-file" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="document-type" class="form-label">Document Type</label>
                                <select class="form-select" id="document-type" required>
                                    <option value="" selected disabled>Select Type</option>
                                    <option value="policy">Policy</option>
                                    <option value="procedure">Procedure</option>
                                    <option value="control">Control Documentation</option>
                                    <option value="assessment">Risk Assessment</option>
                                    <option value="report">Audit Report</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-upload me-2"></i>Upload Document
                        </button>
                    </form>
                    
                    <hr>
                    
                    <h6 class="mb-3">Uploaded Documents</h6>
                    <ul class="list-group" id="uploaded-documents">
                        <!-- Documents will be added here dynamically -->
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Chat Assistant Section -->
        <section id="chat-section" class="mb-5 disabled">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-comments me-2"></i>Chat Assistant</h5>
                </div>
                <div class="card-body">
                    <div id="chat-container" class="chat-container mb-3">
                        <div class="chat-message system-message">
                            <div class="message-content">Hello! I'm your certification assistant. How can I help you today?</div>
                            <small class="text-muted">{{ now }}</small>
                        </div>
                    </div>
                    <form id="chat-form">
                        <div class="input-group">
                            <input type="text" id="chat-input" class="form-control" placeholder="Type your message here..." required>
                            <button class="btn btn-primary" type="submit">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
        
        <!-- Evaluation Section -->
        <section id="evaluation-section" class="mb-5 disabled">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-tasks me-2"></i>Certification Evaluation</h5>
                </div>
                <div class="card-body">
                    <p>Run an evaluation to assess your organization's readiness for the selected certifications based on your uploaded documents.</p>
                    
                    <form id="evaluation-form">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-play me-2"></i>Run Evaluation
                        </button>
                    </form>
                    
                    <div id="evaluation-progress" class="mt-4 d-none">
                        <h6>Evaluation Progress</h6>
                        <div class="progress">
                            <div id="evaluation-progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">0%</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Results Section -->
        <section id="results-section" class="mb-5 disabled">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-chart-bar me-2"></i>Evaluation Results</h5>
                </div>
                <div class="card-body">
                    <div id="results-container">
                        <!-- Results will be added here dynamically -->
                    </div>
                    
                    <hr>
                    
                    <h5 class="mb-3">Generate Compliance Documents</h5>
                    <form id="document-generation-form">
                        <div class="mb-3">
                            <p>Select the types of documents you want to generate:</p>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="gap-analysis" id="doc-gap-analysis" name="document-types">
                                <label class="form-check-label" for="doc-gap-analysis">
                                    Gap Analysis Report
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="remediation-plan" id="doc-remediation-plan" name="document-types">
                                <label class="form-check-label" for="doc-remediation-plan">
                                    Remediation Plan
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="policy-template" id="doc-policy-template" name="document-types">
                                <label class="form-check-label" for="doc-policy-template">
                                    Policy Templates
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="procedure-template" id="doc-procedure-template" name="document-types">
                                <label class="form-check-label" for="doc-procedure-template">
                                    Procedure Templates
                                </label>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-file-alt me-2"></i>Generate Documents
                        </button>
                    </form>
                    
                    <hr>
                    
                    <h6 class="mb-3">Generated Documents</h6>
                    <ul class="list-group" id="generated-documents">
                        <!-- Generated documents will be added here dynamically -->
                    </ul>
                </div>
            </div>
        </section>
    </div>
</div>
{% endblock %} 